<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Aircraft Performance Calculator</title>
    <link rel="stylesheet" href="styles.css">
    <!-- Google Fonts: Rajdhani (Technical/Square) and JetBrains Mono (Data) -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;500;700&family=Rajdhani:wght@500;600;700&display=swap"
        rel="stylesheet">
</head>

<body>
    <div class="app-container">
        <header>
            <div class="header-left">
                <button id="menu-toggle" class="icon-btn" aria-label="Toggle Menu">
                    <svg viewBox="0 0 24 24" width="24" height="24" stroke="currentColor" stroke-width="2" fill="none"
                        stroke-linecap="round" stroke-linejoin="round">
                        <line x1="3" y1="12" x2="21" y2="12"></line>
                        <line x1="3" y1="6" x2="21" y2="6"></line>
                        <line x1="3" y1="18" x2="21" y2="18"></line>
                    </svg>
                </button>
                <h1>Aircraft Performance</h1>
            </div>
            <div class="registration-group">
                <div class="help-wrapper" style="margin-right: 0.5rem;">
                    <button id="help-btn" class="icon-btn small" aria-label="Help">
                        <svg viewBox="0 0 24 24" width="18" height="18" stroke="currentColor" stroke-width="2"
                            fill="none" stroke-linecap="round" stroke-linejoin="round">
                            <circle cx="12" cy="12" r="10"></circle>
                            <path d="M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"></path>
                            <line x1="12" y1="17" x2="12.01" y2="17"></line>
                        </svg>
                    </button>
                    <div class="help-tooltip" id="help-tooltip">
                        Fill in the yellow input fields to obtain results on grey cells. You can save your aircraft
                        information from the "select aircraft" button top right of this page or "aircraft profiles" from
                        the menu.
                    </div>
                </div>
                <label>Reg</label>
                <input type="text" id="registration" class="input-yellow" placeholder="C-XXXX">
                <!-- Aircraft Select Dropdown -->
                <div class="aircraft-menu-container">
                    <button id="select-aircraft-btn" class="icon-btn" aria-label="Select Aircraft"
                        style="font-size: 0.9rem; font-weight: 600; display: flex; align-items: center; gap: 0.5rem;">
                        Select Aircraft
                        <svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                            stroke-width="3" stroke-linecap="round" stroke-linejoin="round">
                            <polyline points="6 9 12 15 18 9"></polyline>
                        </svg>
                    </button>
                    <div id="aircraft-dropdown" class="dropdown-menu hidden">
                        <div id="aircraft-list">
                            <!-- Aircraft items will be injected here -->
                            <div class="dropdown-placeholder">No aircraft saved</div>
                        </div>
                        <div class="dropdown-divider"></div>
                        <button id="add-aircraft-menu-item" class="dropdown-item add-item">
                            + Add New Aircraft
                        </button>
                    </div>
                </div>
            </div>
        </header>

        <!-- Sidebar Navigation -->
        <aside class="sidebar" id="sidebar">
            <div class="sidebar-header">
                <h2>Menu</h2>
                <button id="menu-close" class="icon-btn" aria-label="Close Menu">
                    <svg viewBox="0 0 24 24" width="24" height="24" stroke="currentColor" stroke-width="2" fill="none"
                        stroke-linecap="round" stroke-linejoin="round">
                        <line x1="18" y1="6" x2="6" y2="18"></line>
                        <line x1="6" y1="6" x2="18" y2="18"></line>
                    </svg>
                </button>
            </div>
            <nav class="sidebar-nav">
                <a href="#" class="nav-item">Dashboard</a>
                <a href="#" class="nav-item">Aircraft Profiles</a>
                <a href="about.html" class="nav-item">About & Q&A</a>
            </nav>
            <div class="sidebar-footer">
                <div class="theme-toggle">
                    <span>Dark Mode</span>
                    <label class="switch">
                        <input type="checkbox" id="dark-mode-toggle">
                        <span class="slider round"></span>
                    </label>
                </div>
                <a href="mailto:liu.qianheng.ai@outlook.com?subject=Av-Trainer%20Bug%20Report" class="report-bug-link">
                    <svg viewBox="0 0 24 24" width="14" height="14" stroke="currentColor" stroke-width="2" fill="none"
                        stroke-linecap="round" stroke-linejoin="round">
                        <path
                            d="M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z">
                        </path>
                        <line x1="12" y1="9" x2="12" y2="13"></line>
                        <line x1="12" y1="17" x2="12.01" y2="17"></line>
                    </svg>
                    Report a Bug
                </a>
            </div>
        </aside>
        <div class="sidebar-overlay" id="sidebar-overlay"></div>

        <main class="dashboard-grid">
            <!-- Flight Time Section -->
            <section class="card time-card">
                <h2>Flight Time</h2>
                <div class="time-grid">
                    <div class="flight-time-left">
                        <div class="clock-container">
                            <div class="clock-wrapper">
                                <span class="clock-bg-label">UTC</span>
                                <div id="zulu-clock" class="digital-clock">00:00:00Z</div>
                            </div>
                            <div class="clock-wrapper">
                                <span class="clock-bg-label">LOC</span>
                                <div id="local-clock" class="digital-clock local-clock">00:00:00</div>
                            </div>
                            <div class="tz-select-wrapper">
                                <select id="time-zone-select" class="styled-select">
                                    <option value="0">UTC (GMT)</option>
                                    <!-- Populated by JS -->
                                </select>
                            </div>
                        </div>

                        <div class="departure-container">
                            <label>Departure Time (Zulu time)</label>
                            <input type="text" id="dep-time" class="input-yellow" placeholder="HHMM" maxlength="4"
                                pattern="([01][0-9]|2[0-3])[0-5][0-9]">
                            <div id="dep-relative-time" class="fine-print"></div>
                        </div>
                    </div>

                    <div class="ete-eta-dist-container">
                        <div class="ete-box">
                            <label>ETE</label>
                            <input type="text" id="flight-ete" class="output-white" placeholder="--:--" readonly>
                        </div>
                        <div class="eta-box">
                            <label>ETA</label>
                            <input type="text" id="flight-eta" class="output-white" placeholder="--:--Z" readonly>
                        </div>
                        <div class="dist-box">
                            <label>Dist (nm)</label>
                            <input type="text" id="flight-dist" class="output-white" placeholder="---" readonly>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Conditions Section -->
            <section class="card conditions-card">
                <div class="card-header-flex">
                    <h2>Conditions</h2>
                </div>
                <div class="conditions-grid">
                    <div class="col-header"></div>
                    <div class="col-header">Depart</div>
                    <div class="col-header">Arrival</div>
                    <div class="col-header">Cruise</div>

                    <label>Station</label>
                    <div class="station-wrapper">
                        <input type="text" id="dep-station" class="input-yellow" placeholder="CXXX" maxlength="4"
                            oninput="this.value = this.value.toUpperCase().replace(/[^A-Z]/g, '').slice(0, 4);">
                        <div id="dep-weather-status" class="weather-status"></div>
                    </div>
                    <div class="station-wrapper">
                        <input type="text" id="arr-station" class="input-yellow" placeholder="CXXX" maxlength="4"
                            oninput="this.value = this.value.toUpperCase().replace(/[^A-Z]/g, '').slice(0, 4);">
                        <div id="arr-weather-status" class="weather-status"></div>
                    </div>
                    <div class="static-value">---</div>

                    <label>Altitude (ft)</label>
                    <input type="number" id="dep-alt" class="input-yellow">
                    <input type="number" id="arr-alt" class="input-yellow">
                    <input type="number" id="cruise-alt" class="input-yellow">

                    <label>Alt Setting (inHg)</label>
                    <input type="number" id="dep-alt-set" class="input-yellow" step="0.01">
                    <input type="number" id="arr-alt-set" class="input-yellow" step="0.01">
                    <input type="number" id="cruise-alt-set" class="input-yellow" step="0.01">

                    <label>OAT (°C)</label>
                    <input type="number" id="dep-oat" class="input-yellow">
                    <input type="number" id="arr-oat" class="input-yellow">
                    <input type="number" id="cruise-oat" class="input-yellow">

                    <!-- Outputs -->
                    <label>Std Temp (°C)</label>
                    <input type="text" id="dep-std-t" class="output-white" readonly>
                    <input type="text" id="arr-std-t" class="output-white" readonly>
                    <input type="text" id="cruise-std-t" class="output-white" readonly>

                    <label>Pressure Alt</label>
                    <input type="text" id="dep-palt" class="output-white" readonly>
                    <input type="text" id="arr-palt" class="output-white" readonly>
                    <input type="text" id="cruise-palt" class="output-white" readonly>

                    <label>Density Alt</label>
                    <input type="text" id="dep-dalt" class="output-white" readonly>
                    <input type="text" id="arr-dalt" class="output-white" readonly>
                    <input type="text" id="cruise-dalt" class="output-white" readonly>
                </div>
            </section>

            <!-- Wind & Runway Section -->
            <section class="card wind-card">
                <h2>Wind & Runway</h2>
                <div class="wind-grid">
                    <!-- Headers -->
                    <div></div>
                    <div>Depart</div>
                    <div>Arrival</div>

                    <!-- Inputs -->
                    <label>Wind Dir/Spd</label>
                    <div class="wind-input-group">
                        <input type="number" id="dep-wind-dir" class="input-yellow wind-dir" placeholder="Dir">
                        <span class="separator">@</span>
                        <input type="number" id="dep-wind-spd" class="input-yellow wind-spd" placeholder="Kts">
                    </div>
                    <div class="wind-input-group">
                        <input type="number" id="arr-wind-dir" class="input-yellow wind-dir" placeholder="Dir">
                        <span class="separator">@</span>
                        <input type="number" id="arr-wind-spd" class="input-yellow wind-spd" placeholder="Kts">
                    </div>

                    <label>Runway</label>
                    <input type="number" id="dep-rwy" class="input-yellow" placeholder="##"
                        oninput="if(this.value.length > 2) this.value = this.value.slice(0, 2);">
                    <input type="number" id="arr-rwy" class="input-yellow" placeholder="##"
                        oninput="if(this.value.length > 2) this.value = this.value.slice(0, 2);">

                    <!-- Outputs -->
                    <label>Crosswind</label>
                    <input type="text" id="dep-xwind" class="output-white" readonly>
                    <input type="text" id="arr-xwind" class="output-white" readonly>

                    <label>Headwind</label>
                    <input type="text" id="dep-hwind" class="output-white" readonly>
                    <input type="text" id="arr-hwind" class="output-white" readonly>

                </div>

                <div class="mid-section-header">Cruise</div>
                <div class="cruise-grid">
                    <label>Wind Dir/Spd</label>
                    <label>True Crs</label>
                    <label>XWnd</label>
                    <label>HWnd</label>

                    <div class="wind-input-group">
                        <input type="number" id="cruise-wind-dir" class="input-yellow wind-dir" placeholder="Dir">
                        <span class="separator">@</span>
                        <input type="number" id="cruise-wind-spd" class="input-yellow wind-spd" placeholder="Kts">
                    </div>
                    <input type="number" id="true-crs" class="input-yellow" placeholder="###"
                        oninput="if(this.value.length > 3) this.value = this.value.slice(0, 3);">
                    <input type="text" id="cruise-xwind" class="output-white" readonly>
                    <input type="text" id="cruise-hwind" class="output-white" readonly>
                </div>
            </section>

            <!-- Speed & Power Section -->
            <section class="card speed-card">
                <h2>Cruise Performance</h2>
                <div class="speed-grid">
                    <label>Power (RPM)</label>
                    <input type="number" id="cruise-rpm" class="input-yellow" placeholder="2500">



                    <hr class="span-2">

                    <label>TAS (Kts)</label>
                    <input type="text" id="cruise-tas" class="input-yellow" placeholder="###">

                    <label>CAS (Kts)</label>
                    <input type="number" id="cruise-cas" class="output-white" readonly>

                    <label>Gnd Spd</label>
                    <input type="text" id="cruise-gs" class="output-white" readonly>


                </div>
            </section>

            <!-- Performance Section -->
            <section class="card performance-card">
                <h2>Takeoff/Landing performance (1600 lbs)</h2>
                <div class="perf-grid">
                    <!-- Row 1: Takeoff -->
                    <div class="perf-item-wrapper">
                        <label>Takeoff Roll</label>
                        <input type="text" id="perf-to-roll" class="output-white" readonly>
                    </div>

                    <div class="perf-item-wrapper">
                        <label>TO Over 50'</label>
                        <input type="text" id="perf-to-50" class="output-white" readonly>
                    </div>

                    <!-- Row 2: Landing -->
                    <div class="perf-item-wrapper">
                        <label>Landing Roll</label>
                        <input type="text" id="perf-ldg-roll" class="output-white" readonly>
                    </div>

                    <div class="perf-item-wrapper">
                        <label>Ldg Over 50'</label>
                        <input type="text" id="perf-ldg-50" class="output-white" readonly>
                    </div>

                    <hr class="span-2">

                    <!-- Row 3: Available Runways -->
                    <div class="perf-item-wrapper">
                        <label>Avail Takeoff Rwy (ft)</label>
                        <div class="rwy-status-wrapper">
                            <input type="number" id="avail-to-dist" class="input-yellow" placeholder="####">
                            <div id="to-safety-status" class="rwy-safety-indicator"></div>
                        </div>
                        <div id="dep-rwy-info" class="fine-print"></div>
                    </div>

                    <div class="perf-item-wrapper">
                        <label>Avail Landing Rwy (ft)</label>
                        <div class="rwy-status-wrapper">
                            <input type="number" id="avail-ldg-dist" class="input-yellow" placeholder="####">
                            <div id="ldg-safety-status" class="rwy-safety-indicator"></div>
                        </div>
                        <div id="arr-rwy-info" class="fine-print"></div>
                    </div>
                </div>
            </section>

            <!-- Fuel Section -->
            <section class="card fuel-card">
                <h2>Fuel</h2>
                <div class="fuel-grid">
                    <label>GPH</label>
                    <input type="number" id="fuel-gph" class="input-yellow">

                    <label>Fuel On Board (gal)</label>
                    <input type="number" id="fuel-onboard" class="input-yellow">

                    <hr class="span-2">

                    <label>Start & Taxi</label>
                    <input type="number" id="fuel-taxi" class="input-yellow">

                    <label>Climb</label>
                    <input type="number" id="fuel-climb" class="input-yellow">

                    <label>Cruise</label>
                    <input type="text" id="fuel-cruise" class="output-white" readonly>

                    <label>Reserve (VFR)</label>
                    <input type="number" id="fuel-reserve" class="output-white" readonly>

                    <label class="total-label">Required Fuel</label>
                    <input type="text" id="fuel-required" class="output-white" readonly>

                    <label class="total-label">Remaining</label>
                    <input type="text" id="fuel-remaining" class="output-white" readonly>
                </div>
            </section>

            <!-- W&B Section -->
            <section class="card wb-card">
                <h2>Weight & Balance</h2>
                <table>
                    <thead>
                        <tr>
                            <th style="width: 40%">Item</th>
                            <th style="width: 22.5%">Weight</th>
                            <th style="width: 17.5%">Arm</th>
                            <th style="width: 20%">Moment</th>
                        </tr>
                    </thead>
                    <tbody id="wb-tbody">
                        <tr class="wb-row" draggable="true">
                            <td class="wb-item-cell">
                                <div class="drag-handle">≡</div>
                                <input type="text" class="output-white wb-name-input" value="Empty Weight" readonly
                                    style="color: #6b7280;">
                            </td>
                            <td><input type="number" id="wb-empty-w" class="input-yellow wb-w"></td>
                            <td><input type="number" id="wb-empty-a" class="input-yellow wb-a"></td>
                            <td class="wb-action-cell"><input type="text" id="wb-empty-m" class="output-white wb-m"
                                    readonly></td>
                        </tr>
                        <tr class="wb-row" draggable="true">
                            <td class="wb-item-cell">
                                <div class="drag-handle">≡</div>
                                <input type="text" class="input-yellow wb-name-input" value="Front Pax">
                            </td>
                            <td><input type="number" id="wb-front-w" class="input-yellow wb-w"></td>
                            <td><input type="number" id="wb-front-a" class="input-yellow wb-a"></td>
                            <td class="wb-action-cell">
                                <input type="text" id="wb-front-m" class="output-white wb-m" readonly>
                                <button class="icon-btn delete-wb-row hidden" tabindex="-1">✕</button>
                            </td>
                        </tr>
                        <tr class="wb-row" draggable="true">
                            <td class="wb-item-cell">
                                <div class="drag-handle">≡</div>
                                <input type="text" class="input-yellow wb-name-input" value="Back Pax">
                            </td>
                            <td><input type="number" id="wb-back-w" class="input-yellow wb-w"></td>
                            <td><input type="number" id="wb-back-a" class="input-yellow wb-a"></td>
                            <td class="wb-action-cell">
                                <input type="text" id="wb-back-m" class="output-white wb-m" readonly>
                                <button class="icon-btn delete-wb-row hidden" tabindex="-1">✕</button>
                            </td>
                        </tr>
                        <tr class="wb-row" draggable="true">
                            <td class="wb-item-cell">
                                <div class="drag-handle">≡</div>
                                <input type="text" class="output-white wb-name-input" value="Fuel (6lbs/gal)" readonly
                                    style="color: #6b7280;">
                            </td>
                            <td><input type="number" id="wb-fuel-w" class="input-yellow wb-w" placeholder="lbs"></td>
                            <td><input type="number" id="wb-fuel-a" class="input-yellow wb-a"></td>
                            <td class="wb-action-cell"><input type="text" id="wb-fuel-m" class="output-white wb-m"
                                    readonly></td>
                        </tr>
                        <tr class="wb-row" draggable="true">
                            <td class="wb-item-cell">
                                <div class="drag-handle">≡</div>
                                <input type="text" class="input-yellow wb-name-input" value="Baggage">
                            </td>
                            <td><input type="number" id="wb-bag-w" class="input-yellow wb-w"></td>
                            <td><input type="number" id="wb-bag-a" class="input-yellow wb-a"></td>
                            <td class="wb-action-cell">
                                <input type="text" id="wb-bag-m" class="output-white wb-m" readonly>
                                <button class="icon-btn delete-wb-row hidden" tabindex="-1">✕</button>
                            </td>
                        </tr>
                    </tbody>
                    <tfoot>
                        <tr>
                            <td colspan="4" style="padding: 10px 0; border: none;">
                                <button id="add-wb-row-btn" class="action-btn text-btn">
                                    <svg viewBox="0 0 24 24" width="20" height="20" stroke="currentColor"
                                        stroke-width="2" fill="none" stroke-linecap="round" stroke-linejoin="round">
                                        <line x1="12" y1="5" x2="12" y2="19"></line>
                                        <line x1="5" y1="12" x2="19" y2="12"></line>
                                    </svg>
                                    Add Item
                                </button>
                            </td>
                        </tr>
                        <tr class="total-row">
                            <td style="text-align: right; padding-right: 15px;">Totals</td>
                            <td><input type="text" id="wb-total-w" class="output-white" readonly></td>
                            <td><input type="text" id="wb-cg" class="output-white" readonly></td>
                            <td><input type="text" id="wb-total-m" class="output-white" readonly></td>
                        </tr>
                    </tfoot>
                </table>
            </section>

            <!-- Add/Summary/Clear Button Section -->
            <div class="action-btn-group">
                <button id="add-leg-btn" class="action-btn secondary">Add Leg</button>
                <button id="see-summary-btn" class="action-btn primary">See Summary</button>
                <button id="clear-btn" class="action-btn danger">Clear Inputs</button>
            </div>

        </main>
    </div>
    <!-- Add Aircraft Modal -->
    <div id="add-aircraft-modal" class="modal-overlay hidden">
        <div class="modal-card">
            <div class="modal-header">
                <h3 id="modal-title">Aircraft Profiles</h3>
                <button id="close-modal-btn" class="icon-btn" aria-label="Close">
                    <svg viewBox="0 0 24 24" width="24" height="24" stroke="currentColor" stroke-width="2" fill="none"
                        stroke-linecap="round" stroke-linejoin="round">
                        <line x1="18" y1="6" x2="6" y2="18"></line>
                        <line x1="6" y1="6" x2="18" y2="18"></line>
                    </svg>
                </button>
            </div>
            <div class="modal-body">
                <!-- LIST VIEW -->
                <div id="modal-view-list">
                    <div id="modal-aircraft-list" class="aircraft-list-container">
                        <!-- Items injected here -->
                    </div>
                    <div class="list-actions">
                        <button id="btn-add-new" class="action-btn primary full-width">+ Add New Aircraft</button>
                        <button id="btn-format-reset" class="action-btn danger full-width"
                            style="margin-top: 1rem; opacity: 0.8;">Format / Reset Data</button>
                    </div>
                </div>

                <!-- FORM VIEW -->
                <form id="add-aircraft-form" class="hidden">
                    <input type="hidden" id="edit-index" value="-1">
                    <div class="form-group">
                        <label for="new-ac-reg">Registration</label>
                        <input type="text" id="new-ac-reg" class="input-yellow" placeholder="C-GABC" required>
                    </div>
                    <div class="form-group">
                        <label for="new-ac-model">Aircraft Model</label>
                        <select id="new-ac-model" class="input-yellow" required>
                            <option value="">Select Model</option>
                            <option value="C150M">Cessna 150M</option>
                            <option value="C172N">Cessna 172N</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="new-ac-weight">Basic Empty Weight (lbs)</label>
                        <input type="number" id="new-ac-weight" class="input-yellow" placeholder="1600" step="0.1"
                            required>
                    </div>
                    <div class="form-group">
                        <label for="new-ac-arm">Basic Empty Arm (in)</label>
                        <input type="number" id="new-ac-arm" class="input-yellow" placeholder="38.5" step="0.1"
                            required>
                    </div>
                </form>
            </div>
            <div class="modal-footer hidden" id="modal-footer-form">
                <button id="cancel-add-btn" class="action-btn secondary">Cancel</button>
                <button id="save-aircraft-btn" class="action-btn primary">Save Aircraft</button>
            </div>
        </div>
    </div>

    <!-- Delete Confirmation Modal -->
    <div id="delete-confirm-modal" class="modal-overlay hidden">
        <div class="modal-card small-modal">
            <div class="modal-header">
                <h3>Confirm Delete</h3>
            </div>
            <div class="modal-body">
                <p id="delete-confirm-text">Are you sure you want to delete this aircraft?</p>
            </div>
            <div class="modal-footer">
                <button id="cancel-delete-btn" class="action-btn secondary">Cancel</button>
                <button id="confirm-delete-btn" class="action-btn danger">Delete</button>
            </div>
        </div>
    </div>

    <!-- Reset Confirmation Modal -->
    <div id="reset-confirm-modal" class="modal-overlay hidden">
        <div class="modal-card small-modal">
            <div class="modal-header">
                <h3>⚠️ Data Reset</h3>
            </div>
            <div class="modal-body">
                <p>Are you sure you wanna delete all saved aircraft data and reset everything?</p>
            </div>
            <div class="modal-footer">
                <button id="cancel-reset-btn" class="action-btn secondary">Cancel</button>
                <button id="confirm-reset-btn" class="action-btn danger">Yes, Reset Everything</button>
            </div>
        </div>
    </div>

    <!-- Performance Summary Modal -->
    <div id="summary-modal" class="modal-overlay hidden">
        <div class="modal-card large-modal">
            <div class="modal-header">
                <h3>Flight Performance Summary</h3>
                <button id="close-summary-btn" class="icon-btn" aria-label="Close">
                    <svg viewBox="0 0 24 24" width="24" height="24" stroke="currentColor" stroke-width="2" fill="none"
                        stroke-linecap="round" stroke-linejoin="round">
                        <line x1="18" y1="6" x2="6" y2="18"></line>
                        <line x1="6" y1="6" x2="18" y2="18"></line>
                    </svg>
                </button>
            </div>
            <div class="modal-body" id="summary-content">
                <!-- Summary tables will be injected here -->
            </div>
            <div class="modal-footer">
                <button id="copy-summary-btn" class="action-btn secondary">Copy to Clipboard</button>
                <button id="close-summary-footer-btn" class="action-btn primary">Close</button>
            </div>
        </div>
    </div>

    <!-- Legs Modal -->
    <div id="legs-modal" class="modal-overlay hidden">
        <div class="modal-card">
            <div class="modal-header">
                <h3>Flight Legs</h3>
                <button id="close-legs-btn" class="icon-btn" aria-label="Close">
                    <svg viewBox="0 0 24 24" width="24" height="24" stroke="currentColor" stroke-width="2" fill="none"
                        stroke-linecap="round" stroke-linejoin="round">
                        <line x1="18" y1="6" x2="6" y2="18"></line>
                        <line x1="6" y1="6" x2="18" y2="18"></line>
                    </svg>
                </button>
            </div>
            <div class="modal-body" id="legs-list-content">
                <!-- Leg items injected here -->
            </div>
            <div class="modal-footer">
                <button id="clear-legs-btn" class="action-btn danger">Clear All Legs</button>
                <button id="close-legs-footer-btn" class="action-btn primary">Close</button>
            </div>
        </div>
    </div>

    <!-- Delete Leg Confirmation Modal -->
    <div id="delete-leg-modal" class="modal-overlay hidden">
        <div class="modal-card small-modal">
            <div class="modal-header">
                <h3>Confirm Delete Leg</h3>
            </div>
            <div class="modal-body">
                <p id="delete-leg-text">Are you sure you want to delete this leg?</p>
            </div>
            <div class="modal-footer">
                <button id="cancel-delete-leg-btn" class="action-btn secondary">Cancel</button>
                <button id="confirm-delete-leg-btn" class="action-btn danger">Delete</button>
            </div>
        </div>
    </div>

    <div id="toast-container" class="toast-container"></div>

    <script src="aircraft-data.js"></script>
    <script src="weather-service.js"></script>

    <script src="script.js"></script>
</body>

</html>